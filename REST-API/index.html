
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://li-yibing.github.io/esp32-edge-computing-docs/REST-API/" rel="canonical"/>
<link href="../Demo-Mode/" rel="prev"/>
<link href="../MQTT-API/" rel="next"/>
<link href="../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.28" name="generator"/>
<title>REST API - ESP32 Edge Computing</title>
<link href="../assets/stylesheets/main.6543a935.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#rest-api">1. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ESP32 Edge Computing" class="md-header__button md-logo" data-md-component="logo" href=".." title="ESP32 Edge Computing">
<img alt="logo" src="../img/logo.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ESP32 Edge Computing
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              REST API
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/li-yibing/esp32-edge-computing-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ESP32 Edge Computing" class="md-nav__button md-logo" data-md-component="logo" href=".." title="ESP32 Edge Computing">
<img alt="logo" src="../img/logo.svg"/>
</a>
    ESP32 Edge Computing
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/li-yibing/esp32-edge-computing-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Welcome
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Installation/">
<span class="md-ellipsis">
    Installation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../initial-setup/">
<span class="md-ellipsis">
    Initial Setup
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Hardware-Compatibility/">
<span class="md-ellipsis">
    Hardware Compatibility
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Best-Practice/">
<span class="md-ellipsis">
    Best Practice
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../FAQs/">
<span class="md-ellipsis">
    Frequently Asked Questions
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Configuration
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Reference-Image/">
<span class="md-ellipsis">
    Reference Image
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Alignment/">
<span class="md-ellipsis">
    Alignment References
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ROI-Configuration/">
<span class="md-ellipsis">
    ROIs (Regions of Interest)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Configuration/">
<span class="md-ellipsis">
    Graphical Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Choosing-the-Model/">
<span class="md-ellipsis">
    Model Selection
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ota/">
<span class="md-ellipsis">
    Over-The-Air (OTA) Update
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Advanced
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Parameters/">
<span class="md-ellipsis">
    Parameters
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Integration-Home-Assistant/">
<span class="md-ellipsis">
    Integration into Home Assistant
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../External-LED/">
<span class="md-ellipsis">
    External LED
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-logging/">
<span class="md-ellipsis">
    Data Logging
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rolling-installation/">
<span class="md-ellipsis">
    Living on the Edge
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Watermeter-specific-analog---digital-transition/">
<span class="md-ellipsis">
    Analog/Digital Transition on Water Meters
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../collect-new-images/">
<span class="md-ellipsis">
    Collect images to improve the models
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Learn-models-with-your-own-images/">
<span class="md-ellipsis">
    Learn a model with your own images
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Correction%20Algorithm/">
<span class="md-ellipsis">
    Correction Algorithm
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Neural-Network-Types/">
<span class="md-ellipsis">
    Neural Network Types
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Additional-Information/">
<span class="md-ellipsis">
    Additional Information
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../New-Releases-Notification/">
<span class="md-ellipsis">
    Notification about new Releases
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../prometheus-openmetrics/">
<span class="md-ellipsis">
    Prometheus/OpenMetrics
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Troubleshooting
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Error-Codes/">
<span class="md-ellipsis">
    Reduced webinterface (error codes)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../StatusLED-BlinkCodes/">
<span class="md-ellipsis">
    Board status LED (blink codes)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../WLAN-disconnect-reason/">
<span class="md-ellipsis">
    WLAN disconnect reasons
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Error-Debugging/">
<span class="md-ellipsis">
    Often observed issues
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Frequent-Reboots/">
<span class="md-ellipsis">
    Basic hardware/config issues
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Demo-Mode/">
<span class="md-ellipsis">
    Demo mode
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Quick Links
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Quick Links
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/releases">
<span class="md-ellipsis">
    Releases
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://jomjol.github.io/AI-on-the-edge-device/index.html">
<span class="md-ellipsis">
    Web Installer/Console
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/issues">
<span class="md-ellipsis">
    Create an Issue
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/discussions">
<span class="md-ellipsis">
    Join a Discussion
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    API's
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            API's
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    REST API
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    REST API
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#control">1.1 
<span class="md-ellipsis">
      Control
    </span>
</a>
<nav aria-label="Control" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#flow_start">1.1.1 
<span class="md-ellipsis">
      flow_start
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setprevalue">1.1.2 
<span class="md-ellipsis">
      setPreValue
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gpio">1.1.3 
<span class="md-ellipsis">
      GPIO
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reboot">1.1.4 
<span class="md-ellipsis">
      reboot
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mqtt_publish_discovery">1.1.5 
<span class="md-ellipsis">
      mqtt_publish_discovery
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#results">1.2 
<span class="md-ellipsis">
      Results
    </span>
</a>
<nav aria-label="Results" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#json">1.2.1 
<span class="md-ellipsis">
      json
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#value">1.2.2 
<span class="md-ellipsis">
      value
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmprawjpg">1.2.3 
<span class="md-ellipsis">
      img_tmp/raw.jpg
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmpalgjpg">1.2.4 
<span class="md-ellipsis">
      img_tmp/alg.jpg
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmpalg_roijpg">1.2.5 
<span class="md-ellipsis">
      img_tmp/alg_roi.jpg
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">1.3 
<span class="md-ellipsis">
      Status
    </span>
</a>
<nav aria-label="Status" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#statusflow">1.3.1 
<span class="md-ellipsis">
      statusflow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rssi">1.3.2 
<span class="md-ellipsis">
      rssi
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cpu_temperature">1.3.3 
<span class="md-ellipsis">
      cpu_temperature
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sysinfo">1.3.4 
<span class="md-ellipsis">
      sysinfo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#starttime">1.3.5 
<span class="md-ellipsis">
      starttime
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#uptime">1.3.6 
<span class="md-ellipsis">
      uptime
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#camera">1.4 
<span class="md-ellipsis">
      Camera
    </span>
</a>
<nav aria-label="Camera" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lighton">1.4.1 
<span class="md-ellipsis">
      lighton
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lightoff">1.4.2 
<span class="md-ellipsis">
      lightoff
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#capture">1.4.3 
<span class="md-ellipsis">
      capture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#capture_with_flashlight">1.4.4 
<span class="md-ellipsis">
      capture_with_flashlight
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stream">1.4.5 
<span class="md-ellipsis">
      stream
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#save">1.4.6 
<span class="md-ellipsis">
      save
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logs">1.5 
<span class="md-ellipsis">
      Logs
    </span>
</a>
<nav aria-label="Logs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#log">1.5.1 
<span class="md-ellipsis">
      log
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logfileact">1.5.2 
<span class="md-ellipsis">
      logfileact
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#loghtml">1.5.3 
<span class="md-ellipsis">
      log.html
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnostics">1.6 
<span class="md-ellipsis">
      Diagnostics
    </span>
</a>
<nav aria-label="Diagnostics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#heap">1.6.1 
<span class="md-ellipsis">
      heap
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prometheusopenmetrics">1.7 
<span class="md-ellipsis">
      Prometheus/OpenMetrics
    </span>
</a>
<nav aria-label="Prometheus/OpenMetrics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#metrics">1.7.1 
<span class="md-ellipsis">
      metrics
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../MQTT-API/">
<span class="md-ellipsis">
    MQTT API
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Influx-DB/">
<span class="md-ellipsis">
    Influx DB
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Development
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Build-Instructions/">
<span class="md-ellipsis">
    Build the Project
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upload-files-by-script/">
<span class="md-ellipsis">
    Scripted File Upload
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Testing/">
<span class="md-ellipsis">
    Testing Option for VSCode
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Release-creation/">
<span class="md-ellipsis">
    Preparing for Release
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Old Pages (no longer maintained)
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Old Pages (no longer maintained)
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../outdated--Integrated-Functions/">
<span class="md-ellipsis">
    Integrated Functions
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Assorted Pages
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#control">1.1 
<span class="md-ellipsis">
      Control
    </span>
</a>
<nav aria-label="Control" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#flow_start">1.1.1 
<span class="md-ellipsis">
      flow_start
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setprevalue">1.1.2 
<span class="md-ellipsis">
      setPreValue
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gpio">1.1.3 
<span class="md-ellipsis">
      GPIO
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#reboot">1.1.4 
<span class="md-ellipsis">
      reboot
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mqtt_publish_discovery">1.1.5 
<span class="md-ellipsis">
      mqtt_publish_discovery
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#results">1.2 
<span class="md-ellipsis">
      Results
    </span>
</a>
<nav aria-label="Results" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#json">1.2.1 
<span class="md-ellipsis">
      json
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#value">1.2.2 
<span class="md-ellipsis">
      value
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmprawjpg">1.2.3 
<span class="md-ellipsis">
      img_tmp/raw.jpg
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmpalgjpg">1.2.4 
<span class="md-ellipsis">
      img_tmp/alg.jpg
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#img_tmpalg_roijpg">1.2.5 
<span class="md-ellipsis">
      img_tmp/alg_roi.jpg
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">1.3 
<span class="md-ellipsis">
      Status
    </span>
</a>
<nav aria-label="Status" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#statusflow">1.3.1 
<span class="md-ellipsis">
      statusflow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rssi">1.3.2 
<span class="md-ellipsis">
      rssi
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cpu_temperature">1.3.3 
<span class="md-ellipsis">
      cpu_temperature
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sysinfo">1.3.4 
<span class="md-ellipsis">
      sysinfo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#starttime">1.3.5 
<span class="md-ellipsis">
      starttime
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#uptime">1.3.6 
<span class="md-ellipsis">
      uptime
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#camera">1.4 
<span class="md-ellipsis">
      Camera
    </span>
</a>
<nav aria-label="Camera" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lighton">1.4.1 
<span class="md-ellipsis">
      lighton
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lightoff">1.4.2 
<span class="md-ellipsis">
      lightoff
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#capture">1.4.3 
<span class="md-ellipsis">
      capture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#capture_with_flashlight">1.4.4 
<span class="md-ellipsis">
      capture_with_flashlight
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stream">1.4.5 
<span class="md-ellipsis">
      stream
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#save">1.4.6 
<span class="md-ellipsis">
      save
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logs">1.5 
<span class="md-ellipsis">
      Logs
    </span>
</a>
<nav aria-label="Logs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#log">1.5.1 
<span class="md-ellipsis">
      log
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logfileact">1.5.2 
<span class="md-ellipsis">
      logfileact
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#loghtml">1.5.3 
<span class="md-ellipsis">
      log.html
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnostics">1.6 
<span class="md-ellipsis">
      Diagnostics
    </span>
</a>
<nav aria-label="Diagnostics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#heap">1.6.1 
<span class="md-ellipsis">
      heap
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prometheusopenmetrics">1.7 
<span class="md-ellipsis">
      Prometheus/OpenMetrics
    </span>
</a>
<nav aria-label="Prometheus/OpenMetrics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#metrics">1.7.1 
<span class="md-ellipsis">
      metrics
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="rest-api"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.</span> REST API</h1>
<p>Various information is directly accessible over specific REST calls.</p>
<p>To use it, just append them to the IP, separated with a <code>/</code>, e.g. <code>http://192.168.1.1/json</code></p>
<p>Note: For more detailed information to the REST handler, have a look to the code in the repository: <a href="https://github.com/jomjol/AI-on-the-edge-device/search?q=camuri.uri">registered handlers</a></p>
<h2 id="control"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1</span> Control</h2>
<h3 id="flow_start"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1.1</span> flow_start</h3>
<p>Trigger a flow start (if not running)
     + Payload:
        - No payload needed</p>
<h3 id="setprevalue"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1.2</span> setPreValue</h3>
<p>Set the last valid value (previous value) to given value or the actual RAW value.
     + Payload:
        - Set to given value (value &gt;= 0), e.g. <code>/setPreValue?numbers=main&amp;value=1234.5678</code><br/>
           * <code>numbers=</code> Provide name of number sequence, e.g. main
           * <code>value=</code> provide the value to be set</p>
<pre><code>    - Set to actual RAW value (value &lt; 0, a valid RAW value is mandatory), e.g. `/setPreValue?numbers=main&amp;value=-1`
       * `numbers=` Provide name of number sequence, e.g. main
       * `value=` provide yna negative number
</code></pre>
<h3 id="gpio"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1.3</span> GPIO</h3>
<ul>
<li>
<p>Control a GPIO output</p>
<ul>
<li>The <code>GPIO</code> entrypoint also support parameters:</li>
<li><code>/GPIO?GPIO={PinNumber}&amp;Status=high</code></li>
<li><code>/GPIO?GPIO={PinNumber}&amp;Status=low</code></li>
<li>Example: <code>/GPIO?GPIO=12&amp;Status=high</code></li>
</ul>
</li>
<li>
<p>Read a GPIO input </p>
<ul>
<li>The <code>GPIO</code> entrypoint also support parameters:</li>
<li><code>/GPIO?GPIO={PinNumber}</code></li>
<li>Example: <code>/GPIO?GPIO=12</code></li>
</ul>
</li>
</ul>
<h3 id="reboot"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1.4</span> reboot</h3>
<p>Trigger a reboot of the device</p>
<h3 id="mqtt_publish_discovery"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1.5</span> mqtt_publish_discovery</h3>
<p>Trigger re-sending of the Home Assistant discovery topics.
  The topics will get send at the end of the next round.</p>
<h2 id="results"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2</span> Results</h2>
<h3 id="json"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.1</span> json</h3>
<p>Show result in JSON syntax
  - Example: 
  <code>{
  "main":
    {
      "value": "521.17108",
      "raw": "521.17108",
      "pre": "521.17108",
      "error": "no error",
      "rate": "0.023780",
      "timestamp": "2023-01-13T16:00:42+0100"
    }
  }</code></p>
<h3 id="value"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2</span> value</h3>
<p>Show single result values
  - The <code>value</code> entrypoint also support parameters:
   - <code>http://&lt;IP&gt;/value?all=true&amp;type=value</code>
   - <code>http://&lt;IP&gt;/value?all=true&amp;type=raw</code>
   - <code>http://&lt;IP&gt;/value?all=true&amp;type=error</code>
   - <code>http://&lt;IP&gt;/value?all=true&amp;type=prevalue</code></p>
<h3 id="img_tmprawjpg"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.3</span> img_tmp/raw.jpg</h3>
<p>Capture and show a new raw image</p>
<h3 id="img_tmpalgjpg"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.4</span> img_tmp/alg.jpg</h3>
<p>Show last aligned image</p>
<h3 id="img_tmpalg_roijpg"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.5</span> img_tmp/alg_roi.jpg</h3>
<p>Show last aligned image including ROI overlay</p>
<h2 id="status"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3</span> Status</h2>
<h3 id="statusflow"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.1</span> statusflow</h3>
<p>Show the actual step of the flow incl. timestamp
  - Example: <code>Take Image (15:56:34)</code></p>
<h3 id="rssi"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.2</span> rssi</h3>
<p>Show the WIFI signal strength (Unit: dBm)
  - Example: <code>-51</code></p>
<h3 id="cpu_temperature"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.3</span> cpu_temperature</h3>
<p>Show the CPU temperature (Unit: °C)
  - Example: <code>38</code></p>
<h3 id="sysinfo"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.4</span> sysinfo</h3>
<p>Show system infos in JSON syntax
  - Example: <code>[{"firmware": "","buildtime": "2023-01-25 12:41","gitbranch": "HEAD","gittag": "","gitrevision": "af13c68+","html": "Development-Branch: HEAD (Commit: af13c68+)","cputemp": "64","hostname": "WaterMeterTest","IPv4": "192.168.xxx.xxx","freeHeapMem": "2818330"}]</code></p>
<h3 id="starttime"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.5</span> starttime</h3>
<p>Show starttime
  - Example: <code>20230113-154634</code></p>
<h3 id="uptime"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.6</span> uptime</h3>
<p>Show uptime
  - Example: <code>0d 00h 15m 50s</code></p>
<h2 id="camera"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4</span> Camera</h2>
<h3 id="lighton"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.1</span> lighton</h3>
<p>Switch the camera flashlight on </p>
<h3 id="lightoff"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.2</span> lightoff</h3>
<p>Switch the camera flashlight off</p>
<h3 id="capture"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.3</span> capture</h3>
<p>Capture a new image (without flashlight)</p>
<h3 id="capture_with_flashlight"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.4</span> capture_with_flashlight</h3>
<p>Capture a new image with flashlight</p>
<h3 id="stream"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.5</span> stream</h3>
<p>Stream a live video of the camera.</p>
<p>It has a slow refresh rate of only 2 FPS to avoid stressing the system. Flow processing continues to work in the background, albeit possibly a bit slower.</p>
<p>When the <code>flashlight</code> parameter is set, it turns on the flaslight. Both <code>http://&lt;IP&gt;/stream?flashlight=true</code> and <code>http://&lt;IP&gt;/stream?flashlight</code> turn on the flashlight.</p>
<p><strong>LIMITATION:</strong> To avoid using extra memory, no additional dedicated stream webserver is implemented for this feature (instead, the web interface server is reused in a kind of "blocking way"). This means that either the web interface is fully functional or the stream is active, but not both at the same time. However, this is sufficient for the intended use case.</p>
<h3 id="save"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.4.6</span> save</h3>
<p>Save a new image to SD card
  - The <code>save</code> entrypoint also support parameters:
   - <code>http://&lt;IP&gt;/save?filename=test.jpg&amp;delay=1000</code></p>
<h2 id="logs"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.5</span> Logs</h2>
<h3 id="log"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.5.1</span> log</h3>
<p>Last part of todays log (last 80 kBytes))</p>
<h3 id="logfileact"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.5.2</span> logfileact</h3>
<p>Full log of today</p>
<h3 id="loghtml"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.5.3</span> log.html</h3>
<p>Opens the log html page</p>
<h2 id="diagnostics"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.6</span> Diagnostics</h2>
<h3 id="heap"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.6.1</span> heap</h3>
<p>print relevant memory (heap) information
  - Example: <code>Heap info: Heap Total: 1888926 | SPI Free: 1827431 | SPI Larg Block: 1802240 | SPI Min Free: 758155 | Int Free: 61495 | Int Larg Block: 55296 | Int Min Free: 36427</code></p>
<h2 id="prometheusopenmetrics"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.7</span> Prometheus/OpenMetrics</h2>
<h3 id="metrics"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.7.1</span> metrics</h3>
<p>Provides a set of metrics that can be scraped by prometheus. See <a href="../prometheus-openmetrics">Prometheus/OpenMetrics</a> for details.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
</body>
</html>